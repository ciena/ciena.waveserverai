---
- hosts: all
  gather_facts: false
  name: Gather facts for ciena device Waveserver Ai
  tasks:
    - name: Get device facts for waveserverai device
      ciena.waveserverai.waveserverai_facts:
        gather_subset:
          - min
        gather_network_resources:
          - all
      connection: netconf

    - name: Disable interfaces
      ciena.waveserverai.waveserverai_xcvrs:
        config:
          - xcvr_id: 1-1
            state:
              admin_state: disabled
      connection: netconf

    - name: Enable interfaces
      ciena.waveserverai.waveserverai_xcvrs:
        config:
          - xcvr_id: 1-1
            state:
              admin_state: enabled
      connection: netconf

    - name: Commands
      ciena.waveserverai.waveserverai_command:
        commands:
          - xcvr show
          - xcvr enable xcvr 1/1
      connection: network_cli
